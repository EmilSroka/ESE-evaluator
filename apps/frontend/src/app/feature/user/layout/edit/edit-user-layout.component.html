<mat-card>
  <form [formGroup]="form" class="edit-form">
    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>{{'profile_edit_username' | translate}}</mat-label>
      <input matInput [formControl]="username">
      <mat-error *ngIf="username.invalid">{{'forms_username_error' | translate}}</mat-error>
    </mat-form-field>
    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>{{'profile_edit_organization' | translate}}</mat-label>
      <input matInput [formControl]="organization">
    </mat-form-field>
    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>{{'profile_edit_about' | translate}}</mat-label>
      <textarea matInput [formControl]="about"></textarea>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>{{'profile_edit_password' | translate}}</mat-label>
      <input matInput type="password" [formControl]="password">
      <mat-error *ngIf="password.invalid">{{'forms_password_error' | translate}}</mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>{{'profile_edit_repeat_password' | translate}}</mat-label>
      <input matInput type="password" [formControl]="repeatPassword" [errorStateMatcher]="repeatPasswordErrorMatcher">
      <mat-error *ngIf="isRepeatPasswordInvalid">{{'forms_match_passwords_error' | translate}}</mat-error>
    </mat-form-field>
  </form>
  <mat-card-actions>
    <button mat-button class="discard" color="warn" (click)='discardChanges()'>
      <mat-icon>delete</mat-icon>
      {{'profile_edit_discard' | translate}}
    </button>
    <button mat-button class="save" color="primary" [disabled]="cannotSave()" (click)='saveChanges()'>
      <mat-icon>save</mat-icon>
      {{'profile_edit_save' | translate}}
    </button>
  </mat-card-actions>
</mat-card>
